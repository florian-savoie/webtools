{% set title = 'client acceuil' %}
{% extends "./layout/layout_nav.html.twig" %}
{% block css %}
    <link rel="stylesheet" href="../../assets/vendor/css/pages/ui-carousel.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/swiper/swiper.css"/>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Flipster CSS -->
    <link rel="stylesheet" href="dist/jquery.flipster.min.css">

    <link rel="stylesheet" href="../assets/css/time-line.css">
    <!-- Flipster Js -->
    <script src="dist/jquery.flipster.min.js"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"/>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../../assets/img/favicon/favicon.ico"/>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"/>

    <!-- Icons -->
    <link rel="stylesheet" href="../../assets/vendor/fonts/materialdesignicons.css"/>
    <link rel="stylesheet" href="../../assets/vendor/fonts/fontawesome.css" /
    <!-- Icons -->
    <link rel="stylesheet" href="../../assets/vendor/fonts/materialdesignicons.css"/>
    <link rel="stylesheet" href="../../assets/vendor/fonts/fontawesome.css"/>

    <!-- Core CSS -->
    <link rel="stylesheet" href="../../assets/vendor/css/rtl/core.css" class="template-customizer-core-css"/>
    <link rel="stylesheet" href="../../assets/vendor/css/rtl/theme-default.css" class="template-customizer-theme-css"/>
    <link rel="stylesheet" href="../../assets/css/demo.css"/>

    <!-- Vendors CSS -->
    <link rel="stylesheet" href="../../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/node-waves/node-waves.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/typeahead-js/typeahead.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/bs-stepper/bs-stepper.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/select2/select2.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/tagify/tagify.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/flatpickr/flatpickr.css"/>
    <link rel="stylesheet" href="../../assets/vendor/libs/formvalidation/dist/css/formValidation.min.css"/>
    <!-- Vendors CSS -->

    <link rel="stylesheet" href="../../assets/vendor/libs/rateyo/rateyo.css"/>
    <!-- Page CSS -->

    <!-- Helpers -->
    <script src="../../assets/vendor/js/helpers.js"></script>

    <!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
    <!--? Template customizer: To hide customizer set displayCustomizer value false in config.js.  -->
    <script src="../../assets/vendor/js/template-customizer.js"></script>
    <!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
    <script src="../../assets/js/config.js"></script>

{% endblock %}
{% block contenu %}
    <!-- Content -->
    <!-- Users List Table -->
    <div class="container mt-5">
        <div class="row mt-5"></div>

        <!-- Users List Table -->
        <div class="card">
            <div class="card-header">
                <h5 class="card-title">Search Filter</h5>
                <div class="d-flex justify-content-between align-items-center row py-3 gap-3 gap-md-0">
                    <div class="col-md-4 user_role"></div>
                    <div class="col-md-4 user_plan"></div>
                    <div class="col-md-4 user_status"></div>
                </div>
            </div>
            <div class="card-datatable table-responsive">
                <table class="datatables-users table">
                    <thead class="table-light">
                    <tr>
                        <th>id</th>
                        <th>Utilisateur</th>
                        <th>Role</th>
                        <th>Nombres de publication</th>
                        <th>supprimer</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for user in users %}
                        <tr>
                            <td>{{ user.id }}</td> <!-- Colonne vide -->
                            <td>{{ user.pseudo }}</td> <!-- Nom de l'utilisateur -->
                            <td>
                                <div class="row">
                                    <div class="col-6"><select class="form-select" id="selectrole{{ user.id }}">
                                            <option disabled selected>{{ user.role }}</option>
                                            <option>user</option>
                                            <option>moderateur</option>
                                            <option>admin</option>
                                            <option>bloquer</option>
                                        </select></div>
                                    <div class="col-6">
                                        <button class="btn btn-sm btn-success" onclick="updaterole({{ user.id }})">
                                            Changer
                                        </button>
                                    </div>
                                </div>
                            </td> <!-- RÃ´le de l'utilisateur -->
                            <td>{{ user.num_publications }}</td> <!-- Nombre de publications de l'utilisateur -->
                            <td>
                                <!-- Bouton pour supprimer l'utilisateur -->
                                <button class="btn btn-sm btn-danger" onclick="deleteUser({{ user.id }})">Supprimer
                                </button>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <!-- Offcanvas to add new user -->

        </div>


    </div>





{% endblock %}

        {% block js %}

            <script src="../assets/js/time-line/client/caroussel.js"></script>
            <script src="../assets/js/time-line/artisan/delete-like-photo.js"></script>
            <script src="../assets/js/time-line/artisan/like-photo.js"></script>
            <script src="../assets/js/time-line/artisan/envent-form.js"></script>
            <script src="../assets/js/time-line/artisan/compression-photo.js"></script>
            <script src="../../assets/vendor/assets/js/form-basic-inputs.js"></script>
            <script src="../../assets/vendor/assets/js/extended-ui-timeline.js"></script>
            <script src="../../assets/vendor/libs/swiper/swiper.js"></script>
            <!-- build:js assets/vendor/js/core.js -->
            <script src="../../assets/vendor/libs/jquery/jquery.js"></script>
            <script src="../../assets/vendor/libs/popper/popper.js"></script>
            <script src="../../assets/vendor/js/bootstrap.js"></script>
            <script src="../../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
            <script src="../../assets/vendor/libs/node-waves/node-waves.js"></script>

            <script src="../../assets/vendor/libs/hammer/hammer.js"></script>
            <script src="../../assets/vendor/libs/i18n/i18n.js"></script>
            <script src="../../assets/vendor/libs/typeahead-js/typeahead.js"></script>

            <script src="../../assets/vendor/js/menu.js"></script>
            <!-- endbuild -->

            <!-- Vendors JS -->
            <script src="../../assets/vendor/libs/cleavejs/cleave.js"></script>
            <script src="../../assets/vendor/libs/cleavejs/cleave-phone.js"></script>
            <script src="../../assets/vendor/libs/bs-stepper/bs-stepper.js"></script>
            <script src="../../assets/vendor/libs/select2/select2.js"></script>
            <script src="../../assets/vendor/libs/tagify/tagify.js"></script>
            <script src="../../assets/vendor/libs/flatpickr/flatpickr.js"></script>
            <script src="../../assets/vendor/libs/formvalidation/dist/js/FormValidation.min.js"></script>
            <script src="../../assets/vendor/libs/formvalidation/dist/js/plugins/Bootstrap5.min.js"></script>
            <script src="../../assets/vendor/libs/formvalidation/dist/js/plugins/AutoFocus.min.js"></script>
            <!-- Page JS -->
            <script src="../../assets/js/extended-ui-star-ratings.js"></script>
            <!-- Main JS -->
            <script src="../../assets/js/main.js"></script>
            <!-- Core JS -->
            <!-- build:js assets/vendor/js/core.js -->
            <script src="../../assets/vendor/libs/jquery/jquery.js"></script>
            <script src="../../assets/vendor/libs/popper/popper.js"></script>
            <script src="../../assets/vendor/js/bootstrap.js"></script>
            <script src="../../assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
            <script src="../../assets/vendor/libs/node-waves/node-waves.js"></script>

            <script src="../../assets/vendor/libs/hammer/hammer.js"></script>
            <script src="../../assets/vendor/libs/i18n/i18n.js"></script>
            <script src="../../assets/vendor/libs/typeahead-js/typeahead.js"></script>

            <script src="../../assets/vendor/js/menu.js"></script>
            <!-- endbuild -->

            <!-- Vendors JS -->
            <script src="../../assets/vendor/libs/rateyo/rateyo.js"></script>

            <!-- Main JS -->
            <script src="../../assets/js/main.js"></script>

            <!-- Page JS -->
            <script src="../../assets/js/extended-ui-star-ratings.js"></script>
            <!-- Page JS -->

            <script src="../../assets/js/wizard-ex-property-listing.js"></script>
            <script>


            </script>

            <script src="../../assets/js/users/role.js"></script>
            <script src="../../assets/js/users/deleteUser.js"></script>


        {% endblock %}